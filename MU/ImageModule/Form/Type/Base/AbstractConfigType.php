<?php
/**
 * Image.
 *
 * @copyright Michael Ueberschaer (MU)
 * @license http://www.gnu.org/licenses/lgpl.html GNU Lesser General Public License
 * @author Michael Ueberschaer <info@homepages-mit-zikula.de>.
 * @link https://homepages-mit-zikula.de
 * @link https://ziku.la
 * @version Generated by ModuleStudio (https://modulestudio.de).
 */

namespace MU\ImageModule\Form\Type\Base;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\CheckboxType;
use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
use Symfony\Component\Form\Extension\Core\Type\IntegerType;
use Symfony\Component\Form\Extension\Core\Type\ResetType;
use Symfony\Component\Form\Extension\Core\Type\SubmitType;
use Symfony\Component\Form\Extension\Core\Type\TextType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Zikula\Common\Translator\TranslatorInterface;
use Zikula\Common\Translator\TranslatorTrait;
use MU\ImageModule\Form\Type\Field\MultiListType;
use MU\ImageModule\AppSettings;
use MU\ImageModule\Helper\ListEntriesHelper;

/**
 * Configuration form type base class.
 */
abstract class AbstractConfigType extends AbstractType
{
    use TranslatorTrait;

    /**
     * @var ListEntriesHelper
     */
    protected $listHelper;

    /**
     * ConfigType constructor.
     *
     * @param TranslatorInterface $translator Translator service instance
     * @param ListEntriesHelper $listHelper ListEntriesHelper service instance
     */
    public function __construct(
        TranslatorInterface $translator,
        ListEntriesHelper $listHelper
    ) {
        $this->setTranslator($translator);
        $this->listHelper = $listHelper;
    }

    /**
     * Sets the translator.
     *
     * @param TranslatorInterface $translator Translator service instance
     */
    public function setTranslator(TranslatorInterface $translator)
    {
        $this->translator = $translator;
    }

    /**
     * @inheritDoc
     */
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $this->addGeneralFields($builder, $options);
        $this->addDisplaySettingsFields($builder, $options);
        $this->addUploadHandlerFields($builder, $options);
        $this->addSlideshowsFields($builder, $options);
        $this->addAvatarsFields($builder, $options);
        $this->addWatermarkFields($builder, $options);
        $this->addListViewsFields($builder, $options);
        $this->addImagesFields($builder, $options);
        $this->addModerationFields($builder, $options);
        $this->addIntegrationFields($builder, $options);

        $this->addSubmitButtons($builder, $options);
    }

    /**
     * Adds fields for general fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addGeneralFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('supportCategoriesForAlbums', CheckboxType::class, [
            'label' => $this->__('Support categories for albums') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The support categories for albums option')
            ],
            'required' => false,
        ]);
        
        $builder->add('supportCategoriesForAvatars', CheckboxType::class, [
            'label' => $this->__('Support categories for avatars') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The support categories for avatars option')
            ],
            'required' => false,
        ]);
        
        $builder->add('supportSubAlbums', CheckboxType::class, [
            'label' => $this->__('Support sub albums') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The support sub albums option')
            ],
            'required' => false,
        ]);
        
        $builder->add('userDeletePictures', CheckboxType::class, [
            'label' => $this->__('User delete pictures') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The user delete pictures option')
            ],
            'required' => false,
        ]);
        
        $builder->add('slideshow1', CheckboxType::class, [
            'label' => $this->__('Slideshow 1') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The slideshow 1 option')
            ],
            'required' => false,
        ]);
        
        $builder->add('useAvatars', CheckboxType::class, [
            'label' => $this->__('Use avatars') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The use avatars option')
            ],
            'required' => false,
        ]);
        
        $builder->add('useWatermark', CheckboxType::class, [
            'label' => $this->__('Use watermark') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The use watermark option')
            ],
            'required' => false,
        ]);
        
        $builder->add('useExtendedFeatures', CheckboxType::class, [
            'label' => $this->__('Use extended features') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Do you want to support sub albums?
                Do you want to limit creating of albums, subalbums or pictures?
                Do you want to set a group for common albums?
                Do you want to give the option to rule the access to albums?
                Do you want to use Categories for Albums or Avatars?
                
                Then you can enable these features here!')
            ],
            'help' => $this->__('Do you want to support sub albums?
            Do you want to limit creating of albums, subalbums or pictures?
            Do you want to set a group for common albums?
            Do you want to give the option to rule the access to albums?
            Do you want to use Categories for Albums or Avatars?
            
            Then you can enable these features here!'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The use extended features option')
            ],
            'required' => false,
        ]);
    }

    /**
     * Adds fields for display settings fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addDisplaySettingsFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('albumEntriesPerPageInBackend', IntegerType::class, [
            'label' => $this->__('Album entries per page in backend') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of albums shown per page in the backend')
            ],
            'help' => $this->__('The amount of albums shown per page in the backend'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the album entries per page in backend.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('pictureEntriesPerPageInBackend', IntegerType::class, [
            'label' => $this->__('Picture entries per page in backend') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of pictures shown per page in the backend')
            ],
            'help' => $this->__('The amount of pictures shown per page in the backend'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the picture entries per page in backend.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('avatarEntriesPerPageInBackend', IntegerType::class, [
            'label' => $this->__('Avatar entries per page in backend') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of avatars shown per page in the backend')
            ],
            'help' => $this->__('The amount of avatars shown per page in the backend'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the avatar entries per page in backend.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('countImageView', CheckboxType::class, [
            'label' => $this->__('Count image view') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The count image view option')
            ],
            'required' => false,
        ]);
        
        $listEntries = $this->listHelper->getEntries('appSettings', 'groupForCommonAlbums');
        $choices = [];
        $choiceAttributes = [];
        foreach ($listEntries as $entry) {
            $choices[$entry['text']] = $entry['value'];
            $choiceAttributes[$entry['text']] = ['title' => $entry['title']];
        }
        $builder->add('groupForCommonAlbums', ChoiceType::class, [
            'label' => $this->__('Group for common albums') . ':',
            'empty_data' => 'None',
            'attr' => [
                'class' => '',
                'title' => $this->__('Choose the group for common albums.')
            ],
            'required' => true,
            'choices' => $choices,
            'choice_attr' => $choiceAttributes,
            'multiple' => false,
            'expanded' => false
        ]);
        
        $listEntries = $this->listHelper->getEntries('appSettings', 'kindOfShowSubAlbums');
        $choices = [];
        $choiceAttributes = [];
        foreach ($listEntries as $entry) {
            $choices[$entry['text']] = $entry['value'];
            $choiceAttributes[$entry['text']] = ['title' => $entry['title']];
        }
        $builder->add('kindOfShowSubAlbums', ChoiceType::class, [
            'label' => $this->__('Kind of show sub albums') . ':',
            'empty_data' => 'Panel',
            'attr' => [
                'class' => '',
                'title' => $this->__('Choose the kind of show sub albums.')
            ],
            'required' => true,
            'choices' => $choices,
            'choice_attr' => $choiceAttributes,
            'multiple' => false,
            'expanded' => false
        ]);
        
        $builder->add('breadcrumbsInFrontend', CheckboxType::class, [
            'label' => $this->__('Breadcrumbs in frontend') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The breadcrumbs in frontend option')
            ],
            'required' => false,
        ]);
        
        $builder->add('endingOfUrl', TextType::class, [
            'label' => $this->__('Ending of url') . ':',
            'empty_data' => 'html',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the ending of url.')
            ],
            'required' => false,
        ]);
    }

    /**
     * Adds fields for upload handler fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addUploadHandlerFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('numberParentAlbums', IntegerType::class, [
            'label' => $this->__('Number parent albums') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('How many main albums may a user create')
            ],
            'help' => $this->__('How many main albums may a user create'),
            'empty_data' => 1,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the number parent albums.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('numberSubAlbums', IntegerType::class, [
            'label' => $this->__('Number sub albums') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('How many sub albums may a user create')
            ],
            'help' => $this->__('How many sub albums may a user create'),
            'empty_data' => 2,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the number sub albums.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('numberPictures', IntegerType::class, [
            'label' => $this->__('Number pictures') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('How many pictures may a user create')
            ],
            'help' => $this->__('How many pictures may a user create'),
            'empty_data' => 20,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the number pictures.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('fileSizeForPictures', TextType::class, [
            'label' => $this->__('File size for pictures') . ':',
            'empty_data' => '200k',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the file size for pictures.')
            ],
            'required' => true,
        ]);
        
        $builder->add('fileSizeForAvatars', TextType::class, [
            'label' => $this->__('File size for avatars') . ':',
            'empty_data' => '200k',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the file size for avatars.')
            ],
            'required' => true,
        ]);
        
        $builder->add('fileSizesForZip', TextType::class, [
            'label' => $this->__('File sizes for zip') . ':',
            'empty_data' => '2M',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the file sizes for zip.')
            ],
            'required' => true,
        ]);
        
        $builder->add('minWidthForPictures', IntegerType::class, [
            'label' => $this->__('Min width for pictures') . ':',
            'empty_data' => 400,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the min width for pictures.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('maxWidthForPictures', IntegerType::class, [
            'label' => $this->__('Max width for pictures') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the max width for pictures.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('maxHeightForPictures', IntegerType::class, [
            'label' => $this->__('Max height for pictures') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the max height for pictures.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('minWidthForAvatars', IntegerType::class, [
            'label' => $this->__('Min width for avatars') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the min width for avatars.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('maxWidthForAvatars', IntegerType::class, [
            'label' => $this->__('Max width for avatars') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the max width for avatars.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('maxHeightForAvatars', IntegerType::class, [
            'label' => $this->__('Max height for avatars') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the max height for avatars.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('createSeveralPictures', CheckboxType::class, [
            'label' => $this->__('Create several pictures') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The create several pictures option')
            ],
            'required' => false,
        ]);
        
        $builder->add('firstWidth', IntegerType::class, [
            'label' => $this->__('First width') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Width for the first additional picture')
            ],
            'help' => $this->__('Width for the first additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the first width.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('firstHeight', IntegerType::class, [
            'label' => $this->__('First height') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Height for the first additional picture')
            ],
            'help' => $this->__('Height for the first additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the first height.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('secondWidth', IntegerType::class, [
            'label' => $this->__('Second width') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Width for the second additional picture')
            ],
            'help' => $this->__('Width for the second additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the second width.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('secondHeight', IntegerType::class, [
            'label' => $this->__('Second height') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Height for the second additional picture')
            ],
            'help' => $this->__('Height for the second additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the second height.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('thirdWidth', IntegerType::class, [
            'label' => $this->__('Third width') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Width for the third additional picture')
            ],
            'help' => $this->__('Width for the third additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the third width.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('thirdHeight', IntegerType::class, [
            'label' => $this->__('Third height') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Height for the third additional picture')
            ],
            'help' => $this->__('Height for the third additional picture'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the third height.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
    }

    /**
     * Adds fields for slideshows fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addSlideshowsFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('slide1Interval', IntegerType::class, [
            'label' => $this->__('Slide 1 interval') . ':',
            'empty_data' => 4000,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the slide 1 interval.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('slide1Speed', IntegerType::class, [
            'label' => $this->__('Slide 1 speed') . ':',
            'empty_data' => 1000,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the slide 1 speed.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
    }

    /**
     * Adds fields for avatars fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addAvatarsFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('numberWidthAndNameOfAvatars', TextType::class, [
            'label' => $this->__('Number width and name of avatars') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Here you can set, how many avatar sizes with which name you wish.')
            ],
            'help' => $this->__('Here you can set, how many avatar sizes with which name you wish.'),
            'empty_data' => '200,thumb;400,view;600,normal',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the number width and name of avatars.')
            ],
            'required' => false,
        ]);
        
        $builder->add('shrink', CheckboxType::class, [
            'label' => $this->__('Shrink') . ':',
            'attr' => [
                'class' => '',
                'title' => $this->__('The shrink option')
            ],
            'required' => false,
        ]);
    }

    /**
     * Adds fields for watermark fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addWatermarkFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('watermark', TextType::class, [
            'label' => $this->__('Watermark') . ':',
            'empty_data' => '',
            'attr' => [
                'maxlength' => 255,
                'class' => '',
                'title' => $this->__('Enter the watermark.')
            ],
            'required' => false,
        ]);
        
        $builder->add('bottomOfImage', IntegerType::class, [
            'label' => $this->__('Bottom of image') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('If top is set, bottom has no effect')
            ],
            'help' => $this->__('If top is set, bottom has no effect'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the bottom of image.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('leftSide', IntegerType::class, [
            'label' => $this->__('Left side') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('If left is set, right has no effect')
            ],
            'help' => $this->__('If left is set, right has no effect'),
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the left side.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('rightSide', IntegerType::class, [
            'label' => $this->__('Right side') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the right side.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
        
        $builder->add('topOfImage', IntegerType::class, [
            'label' => $this->__('Top of image') . ':',
            'empty_data' => 0,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the top of image.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => false,
            'scale' => 0
        ]);
    }

    /**
     * Adds fields for list views fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addListViewsFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('albumEntriesPerPage', IntegerType::class, [
            'label' => $this->__('Album entries per page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of albums shown per page')
            ],
            'help' => $this->__('The amount of albums shown per page'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the album entries per page.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('linkOwnAlbumsOnAccountPage', CheckboxType::class, [
            'label' => $this->__('Link own albums on account page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to add a link to albums of the current user on his account page')
            ],
            'help' => $this->__('Whether to add a link to albums of the current user on his account page'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The link own albums on account page option')
            ],
            'required' => false,
        ]);
        
        $builder->add('pictureEntriesPerPage', IntegerType::class, [
            'label' => $this->__('Picture entries per page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of pictures shown per page')
            ],
            'help' => $this->__('The amount of pictures shown per page'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the picture entries per page.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('linkOwnPicturesOnAccountPage', CheckboxType::class, [
            'label' => $this->__('Link own pictures on account page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to add a link to pictures of the current user on his account page')
            ],
            'help' => $this->__('Whether to add a link to pictures of the current user on his account page'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The link own pictures on account page option')
            ],
            'required' => false,
        ]);
        
        $builder->add('avatarEntriesPerPage', IntegerType::class, [
            'label' => $this->__('Avatar entries per page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The amount of avatars shown per page')
            ],
            'help' => $this->__('The amount of avatars shown per page'),
            'empty_data' => 10,
            'attr' => [
                'maxlength' => 11,
                'class' => '',
                'title' => $this->__('Enter the avatar entries per page.') . ' ' . $this->__('Only digits are allowed.')
            ],
            'required' => true,
            'scale' => 0
        ]);
        
        $builder->add('linkOwnAvatarsOnAccountPage', CheckboxType::class, [
            'label' => $this->__('Link own avatars on account page') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to add a link to avatars of the current user on his account page')
            ],
            'help' => $this->__('Whether to add a link to avatars of the current user on his account page'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The link own avatars on account page option')
            ],
            'required' => false,
        ]);
        
        $builder->add('showOnlyOwnEntries', CheckboxType::class, [
            'label' => $this->__('Show only own entries') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether only own entries should be shown on view pages by default or not')
            ],
            'help' => $this->__('Whether only own entries should be shown on view pages by default or not'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The show only own entries option')
            ],
            'required' => false,
        ]);
    }

    /**
     * Adds fields for images fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addImagesFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('enableShrinkingForPictureImageUpload', CheckboxType::class, [
            'label' => $this->__('Enable shrinking for picture image upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to enable shrinking huge images to maximum dimensions. Stores downscaled version of the original image.')
            ],
            'help' => $this->__('Whether to enable shrinking huge images to maximum dimensions. Stores downscaled version of the original image.'),
            'attr' => [
                'class' => 'shrink-enabler',
                'title' => $this->__('The enable shrinking option')
            ],
            'required' => false,
        ]);
        
        $builder->add('shrinkWidthPictureImageUpload', IntegerType::class, [
            'label' => $this->__('Shrink width picture image upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The maximum image width in pixels.')
            ],
            'help' => $this->__('The maximum image width in pixels.'),
            'empty_data' => 800,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the shrink width')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('shrinkHeightPictureImageUpload', IntegerType::class, [
            'label' => $this->__('Shrink height picture image upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The maximum image height in pixels.')
            ],
            'help' => $this->__('The maximum image height in pixels.'),
            'empty_data' => 600,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the shrink height')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $listEntries = $this->listHelper->getEntries('appSettings', 'thumbnailModePictureImageUpload');
        $choices = [];
        $choiceAttributes = [];
        foreach ($listEntries as $entry) {
            $choices[$entry['text']] = $entry['value'];
            $choiceAttributes[$entry['text']] = ['title' => $entry['title']];
        }
        $builder->add('thumbnailModePictureImageUpload', ChoiceType::class, [
            'label' => $this->__('Thumbnail mode picture image upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail mode (inset or outbound).')
            ],
            'help' => $this->__('Thumbnail mode (inset or outbound).'),
            'empty_data' => 'inset',
            'attr' => [
                'class' => '',
                'title' => $this->__('Choose the thumbnail mode.')
            ],
            'required' => true,
            'choices' => $choices,
            'choice_attr' => $choiceAttributes,
            'multiple' => false,
            'expanded' => false
        ]);
        
        $builder->add('thumbnailWidthPictureImageUploadView', IntegerType::class, [
            'label' => $this->__('Thumbnail width picture image upload view') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on view pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on view pages in pixels.'),
            'empty_data' => 32,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width view')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightPictureImageUploadView', IntegerType::class, [
            'label' => $this->__('Thumbnail height picture image upload view') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on view pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on view pages in pixels.'),
            'empty_data' => 24,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height view')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailWidthPictureImageUploadDisplay', IntegerType::class, [
            'label' => $this->__('Thumbnail width picture image upload display') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on display pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on display pages in pixels.'),
            'empty_data' => 240,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width display')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightPictureImageUploadDisplay', IntegerType::class, [
            'label' => $this->__('Thumbnail height picture image upload display') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on display pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on display pages in pixels.'),
            'empty_data' => 180,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height display')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailWidthPictureImageUploadEdit', IntegerType::class, [
            'label' => $this->__('Thumbnail width picture image upload edit') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on edit pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on edit pages in pixels.'),
            'empty_data' => 240,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width edit')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightPictureImageUploadEdit', IntegerType::class, [
            'label' => $this->__('Thumbnail height picture image upload edit') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on edit pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on edit pages in pixels.'),
            'empty_data' => 180,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height edit')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('enableShrinkingForAvatarAvatarUpload', CheckboxType::class, [
            'label' => $this->__('Enable shrinking for avatar avatar upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to enable shrinking huge images to maximum dimensions. Stores downscaled version of the original image.')
            ],
            'help' => $this->__('Whether to enable shrinking huge images to maximum dimensions. Stores downscaled version of the original image.'),
            'attr' => [
                'class' => 'shrink-enabler',
                'title' => $this->__('The enable shrinking option')
            ],
            'required' => false,
        ]);
        
        $builder->add('shrinkWidthAvatarAvatarUpload', IntegerType::class, [
            'label' => $this->__('Shrink width avatar avatar upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The maximum image width in pixels.')
            ],
            'help' => $this->__('The maximum image width in pixels.'),
            'empty_data' => 800,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the shrink width')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('shrinkHeightAvatarAvatarUpload', IntegerType::class, [
            'label' => $this->__('Shrink height avatar avatar upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('The maximum image height in pixels.')
            ],
            'help' => $this->__('The maximum image height in pixels.'),
            'empty_data' => 600,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the shrink height')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $listEntries = $this->listHelper->getEntries('appSettings', 'thumbnailModeAvatarAvatarUpload');
        $choices = [];
        $choiceAttributes = [];
        foreach ($listEntries as $entry) {
            $choices[$entry['text']] = $entry['value'];
            $choiceAttributes[$entry['text']] = ['title' => $entry['title']];
        }
        $builder->add('thumbnailModeAvatarAvatarUpload', ChoiceType::class, [
            'label' => $this->__('Thumbnail mode avatar avatar upload') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail mode (inset or outbound).')
            ],
            'help' => $this->__('Thumbnail mode (inset or outbound).'),
            'empty_data' => 'inset',
            'attr' => [
                'class' => '',
                'title' => $this->__('Choose the thumbnail mode.')
            ],
            'required' => true,
            'choices' => $choices,
            'choice_attr' => $choiceAttributes,
            'multiple' => false,
            'expanded' => false
        ]);
        
        $builder->add('thumbnailWidthAvatarAvatarUploadView', IntegerType::class, [
            'label' => $this->__('Thumbnail width avatar avatar upload view') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on view pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on view pages in pixels.'),
            'empty_data' => 32,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width view')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightAvatarAvatarUploadView', IntegerType::class, [
            'label' => $this->__('Thumbnail height avatar avatar upload view') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on view pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on view pages in pixels.'),
            'empty_data' => 24,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height view')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailWidthAvatarAvatarUploadDisplay', IntegerType::class, [
            'label' => $this->__('Thumbnail width avatar avatar upload display') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on display pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on display pages in pixels.'),
            'empty_data' => 240,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width display')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightAvatarAvatarUploadDisplay', IntegerType::class, [
            'label' => $this->__('Thumbnail height avatar avatar upload display') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on display pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on display pages in pixels.'),
            'empty_data' => 180,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height display')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailWidthAvatarAvatarUploadEdit', IntegerType::class, [
            'label' => $this->__('Thumbnail width avatar avatar upload edit') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail width on edit pages in pixels.')
            ],
            'help' => $this->__('Thumbnail width on edit pages in pixels.'),
            'empty_data' => 240,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail width edit')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
        
        $builder->add('thumbnailHeightAvatarAvatarUploadEdit', IntegerType::class, [
            'label' => $this->__('Thumbnail height avatar avatar upload edit') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Thumbnail height on edit pages in pixels.')
            ],
            'help' => $this->__('Thumbnail height on edit pages in pixels.'),
            'empty_data' => 180,
            'attr' => [
                'maxlength' => 4,
                'class' => '',
                'title' => $this->__('Enter the thumbnail height edit')
            ],
            'required' => true,
            'scale' => 0,
            'input_group' => ['right' => $this->__('pixels')]
        ]);
    }

    /**
     * Adds fields for moderation fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addModerationFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $builder->add('allowModerationSpecificCreatorForAlbum', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creator for album') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a user which will be set as creator.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a user which will be set as creator.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creator for album option')
            ],
            'required' => false,
        ]);
        
        $builder->add('allowModerationSpecificCreationDateForAlbum', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creation date for album') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a custom creation date.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a custom creation date.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creation date for album option')
            ],
            'required' => false,
        ]);
        
        $builder->add('allowModerationSpecificCreatorForPicture', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creator for picture') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a user which will be set as creator.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a user which will be set as creator.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creator for picture option')
            ],
            'required' => false,
        ]);
        
        $builder->add('allowModerationSpecificCreationDateForPicture', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creation date for picture') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a custom creation date.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a custom creation date.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creation date for picture option')
            ],
            'required' => false,
        ]);
        
        $builder->add('allowModerationSpecificCreatorForAvatar', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creator for avatar') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a user which will be set as creator.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a user which will be set as creator.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creator for avatar option')
            ],
            'required' => false,
        ]);
        
        $builder->add('allowModerationSpecificCreationDateForAvatar', CheckboxType::class, [
            'label' => $this->__('Allow moderation specific creation date for avatar') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Whether to allow moderators choosing a custom creation date.')
            ],
            'help' => $this->__('Whether to allow moderators choosing a custom creation date.'),
            'attr' => [
                'class' => '',
                'title' => $this->__('The allow moderation specific creation date for avatar option')
            ],
            'required' => false,
        ]);
    }

    /**
     * Adds fields for integration fields.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addIntegrationFields(FormBuilderInterface $builder, array $options = [])
    {
        
        $listEntries = $this->listHelper->getEntries('appSettings', 'enabledFinderTypes');
        $choices = [];
        $choiceAttributes = [];
        foreach ($listEntries as $entry) {
            $choices[$entry['text']] = $entry['value'];
            $choiceAttributes[$entry['text']] = ['title' => $entry['title']];
        }
        $builder->add('enabledFinderTypes', MultiListType::class, [
            'label' => $this->__('Enabled finder types') . ':',
            'label_attr' => [
                'class' => 'tooltips',
                'title' => $this->__('Which sections are supported in the Finder component (used by Scribite plug-ins).')
            ],
            'help' => $this->__('Which sections are supported in the Finder component (used by Scribite plug-ins).'),
            'empty_data' => 'album###picture###avatar',
            'attr' => [
                'class' => '',
                'title' => $this->__('Choose the enabled finder types.')
            ],
            'required' => false,
            'placeholder' => $this->__('Choose an option'),
            'choices' => $choices,
            'choice_attr' => $choiceAttributes,
            'multiple' => true,
            'expanded' => false
        ]);
    }

    /**
     * Adds submit buttons.
     *
     * @param FormBuilderInterface $builder The form builder
     * @param array                $options The options
     */
    public function addSubmitButtons(FormBuilderInterface $builder, array $options = [])
    {
        $builder->add('save', SubmitType::class, [
            'label' => $this->__('Update configuration'),
            'icon' => 'fa-check',
            'attr' => [
                'class' => 'btn btn-success'
            ]
        ]);
        $builder->add('reset', ResetType::class, [
            'label' => $this->__('Reset'),
            'icon' => 'fa-refresh',
            'attr' => [
                'class' => 'btn btn-default',
                'formnovalidate' => 'formnovalidate'
            ]
        ]);
        $builder->add('cancel', SubmitType::class, [
            'label' => $this->__('Cancel'),
            'icon' => 'fa-times',
            'attr' => [
                'class' => 'btn btn-default',
                'formnovalidate' => 'formnovalidate'
            ]
        ]);
    }

    /**
     * @inheritDoc
     */
    public function getBlockPrefix()
    {
        return 'muimagemodule_config';
    }

    /**
     * @inheritDoc
     */
    public function configureOptions(OptionsResolver $resolver)
    {
        $resolver
            ->setDefaults([
                // define class for underlying data
                'data_class' => AppSettings::class,
            ]);
    }
}
