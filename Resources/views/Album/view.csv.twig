{* purpose of this template: albums view csv view *}
{{ mumuimagemodule_templateHeaders(contentType='text/comma-separated-values; charset=iso-8859-15', asAttachment=true, fileName='Albums.csv') }}
{% spaceless %}"{{ __('Title') }}";"{{ __('Description') }}";"{{ __('Parent_id') }}";"{{ __('Album access') }}";"{{ __('Password access') }}";"{{ __('My friends') }}";"{{ __('Not in frontend') }}";"{{ __('Workflow state') }}"
;"{{ __('Parent') }}"
;"{{ __('Picture') }}";"{{ __('Children') }}"
{% endspaceless %}
{% for album in items %}
{% spaceless %}
    "{{ album.title }}";"{{ album.description }}";"{{ album.parent_id }}";"{{ album.albumAccess|mumuimagemodule_listEntry('album', 'albumAccess') }}";"";"{{ album.myFriends }}";"{% if not album.notInFrontend %}0{% else %}1{% endif %}";"{{ album.workflowState|mumuimagemodule_objectState(false)|lower }}"
    ;"{% if album.parent|default %}{{ album.parent.getTitleFromDisplayPattern() }}{% endif %}"
    ;"
    {% if album.picture|default %}
        {% for relatedItem in album.picture %}
        {{ relatedItem.getTitleFromDisplayPattern() }}{% if not loop.last %}, {% endif %}
        {% endfor %}
    {% endif %}
    ";"
    {% if album.children|default %}
        {% for relatedItem in album.children %}
        {{ relatedItem.getTitleFromDisplayPattern() }}{% if not loop.last %}, {% endif %}
        {% endfor %}
    {% endif %}
    "
{% endspaceless %}
{% endfor %}
