// jQuery flexImages v1.0.2
// https://github.com/Pixabay/jQuery-flexImages
!function(t){function e(t,a,n,r){function o(t){n.maxRows&&l>n.maxRows||n.truncate&&t&&l>1?c[g][0].style.display="none":(c[g][5]&&(c[g][4].attr("src",c[g][5]),c[g][5]=""),c[g][0].style.width=s+"px",c[g][0].style.height=u+"px",c[g][0].style.display="block")}var g,s,f=1,l=1,w=t.width(),c=[],d=0,u=n.rowHeight;for(w||(w=t.width()),i=0;i<a.length;i++)if(c.push(a[i]),d+=a[i][3]+n.margin,d>=w){for(f=w/d,u=Math.ceil(n.rowHeight*f),exact_w=0,s,g=0;g<c.length;g++)s=Math.ceil(c[g][3]*f),exact_w+=s+n.margin,exact_w>w&&(s-=exact_w-w+1),o();c=[],d=0,l++}for(g=0;g<c.length;g++)s=Math.floor(c[g][3]*f),h=Math.floor(n.rowHeight*f),o(!0);r||w==t.width()||e(t,a,n,!0)}t.fn.flexImages=function(i){var a=t.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0},i);return this.each(function(){var i=t(this),n=t(i).find(a.container),r=[],o=(new Date).getTime(),h=window.getComputedStyle?getComputedStyle(n[0],null):n[0].currentStyle;for(a.margin=(parseInt(h.marginLeft)||0)+(parseInt(h.marginRight)||0)+(parseInt(h.borderLeftWidth)||0)+(parseInt(h.borderRightWidth)||0),j=0;j<n.length;j++){var g=n[j],s=parseInt(g.getAttribute("data-w")),f=parseInt(g.getAttribute("data-h")),l=s*(a.rowHeight/f),w=t(g).find(a.object);r.push([g,s,f,l,w,w.data("src")])}e(i,r,a),t(window).off("resize.flexImages"+i.data("flex-t")),t(window).on("resize.flexImages"+o,function(){e(i,r,a)}),i.data("flex-t",o)})}}(jQuery);